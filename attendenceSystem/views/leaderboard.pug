extends layout.pug
include mixins/sidebar.pug

block header
  +sidebar()

block content
  - const leaderboard = students;
  h1.lb Leaderboard


  .lb
    table
      thead
        th | First Name
        th | Last Name
        th | Grade
        th | Points
      tbody
        each student in students
          tr
            td= student.first_name
            td= student.last_name
            td= student.grade
            td= student.points

  p#winner
  button(onclick=`mostPointWinner(${JSON.stringify(leaderboard)})`) Get Winner with Most Points
  button(onclick=`getRandomStudent(${JSON.stringify(leaderboard)})`) Choose a Random Winner
  
  script.
    function mostPointWinner(students) {
      document.getElementById("winner").innerHTML = students[0].first_name + " " + students[0].last_name + " wins with " + students[0].points + "!";
    }
    function getRandomStudent(students) {
        const rng = Math.floor(Math.random() * students.length);
        document.getElementById("winner").innerHTML = students[rng].first_name + " " + students[rng].last_name + " wins!";
    }

